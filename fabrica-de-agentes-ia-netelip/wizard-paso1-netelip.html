<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear agente IA - Paso 1: Tipo de agente | Netelip</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --netelip-azul: #267ab0;
            --netelip-azul-hover: #1e6291;
            --gris-bg: #f8f9fa;
            --gris-claro: #f5f6f8;
            --gris-borde: #e5e7eb;
            --gris-texto: #6c757d;
            --oscuro: #1a2428;
            --exito: #10b981;
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: var(--gris-claro);
            color: var(--oscuro);
        }

        /* ===== SIDEBAR ===== */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            width: 280px;
            background: white;
            border-right: 1px solid var(--gris-borde);
            z-index: 1000;
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--gris-borde);
        }

        .back-link {
            display: flex;
            align-items: center;
            color: var(--gris-texto);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .back-link:hover {
            color: var(--netelip-azul);
        }

        .back-link i {
            margin-right: 8px;
        }

        .wizard-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--oscuro);
            margin: 16px 0 6px 0;
        }

        .wizard-subtitle {
            font-size: 13px;
            color: var(--gris-texto);
        }

        .steps-container {
            flex: 1;
            padding: 24px 0;
            overflow-y: auto;
        }

        .step-item {
            padding: 14px 20px;
            display: flex;
            align-items: center;
            text-decoration: none;
            color: var(--gris-texto);
            transition: all 0.2s;
            cursor: pointer;
            border-left: 3px solid transparent;
        }

        .step-item:hover {
            background: var(--gris-claro);
            color: var(--oscuro);
        }

        .step-item.active {
            background: #eff6ff;
            color: var(--netelip-azul);
            border-left-color: var(--netelip-azul);
        }

        .step-item.completed {
            color: var(--exito);
        }

        .step-item.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }

        .step-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--gris-claro);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
            margin-right: 12px;
            transition: all 0.2s;
        }

        .step-item.active .step-number {
            background: var(--netelip-azul);
            color: white;
        }

        .step-item.completed .step-number {
            background: var(--exito);
            color: white;
        }

        .step-info {
            flex: 1;
        }

        .step-name {
            font-size: 14px;
            font-weight: 600;
            display: block;
            margin-bottom: 2px;
        }

        .step-desc {
            font-size: 12px;
            opacity: 0.7;
        }

        .step-icon {
            font-size: 18px;
        }

        /* ===== MAIN CONTENT ===== */
        .main-content {
            margin-left: 280px;
            min-height: 100vh;
            background: var(--gris-claro);
        }

        .topbar {
            background: white;
            padding: 20px 32px;
            border-bottom: 1px solid var(--gris-borde);
            position: sticky;
            top: 0;
            z-index: 999;
        }

        .progress-bar-container {
            background: var(--gris-claro);
            height: 8px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 16px;
        }

        .progress-bar-fill {
            height: 100%;
            background: var(--netelip-azul);
            transition: width 0.3s;
            border-radius: 10px;
        }

        .progress-text {
            font-size: 13px;
            color: var(--gris-texto);
            font-weight: 600;
        }

        .content-area {
            padding: 32px;
            max-width: 1000px;
        }

        .form-card {
            background: white;
            border: 1px solid var(--gris-borde);
            border-radius: 12px;
            padding: 40px;
        }

        .section-title {
            font-size: 26px;
            font-weight: 700;
            color: var(--oscuro);
            margin-bottom: 8px;
        }

        .section-subtitle {
            font-size: 15px;
            color: var(--gris-texto);
            margin-bottom: 40px;
            line-height: 1.6;
        }

        /* ===== TIPO DE AGENTE CARDS ===== */
        .agent-types-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .agent-type-card {
            border: 2px solid var(--gris-borde);
            border-radius: 12px;
            padding: 32px 24px;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
            position: relative;
            overflow: hidden;
        }

        .agent-type-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--netelip-azul);
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .agent-type-card:hover {
            border-color: var(--netelip-azul);
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(38, 122, 176, 0.12);
        }

        .agent-type-card:hover::before {
            transform: scaleX(1);
        }

        .agent-type-card.selected {
            border-color: var(--netelip-azul);
            background: #eff6ff;
            box-shadow: 0 8px 24px rgba(38, 122, 176, 0.15);
        }

        .agent-type-card.selected::before {
            transform: scaleX(1);
        }

        .agent-type-card.selected::after {
            content: '‚úì';
            position: absolute;
            top: 16px;
            right: 16px;
            width: 32px;
            height: 32px;
            background: var(--netelip-azul);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 16px;
        }

        .agent-type-icon {
            width: 64px;
            height: 64px;
            margin-bottom: 20px;
            background: var(--gris-claro);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .agent-type-card:hover .agent-type-icon {
            background: var(--netelip-azul);
        }

        .agent-type-card:hover .agent-type-icon svg path {
            stroke: white;
        }

        .agent-type-card:hover .agent-type-icon svg circle {
            stroke: white;
            fill: white;
        }

        .agent-type-card.selected .agent-type-icon {
            background: var(--netelip-azul);
        }

        .agent-type-card.selected .agent-type-icon svg path {
            stroke: white;
        }

        .agent-type-card.selected .agent-type-icon svg circle {
            stroke: white;
            fill: white;
        }

        .agent-type-icon svg {
            width: 36px;
            height: 36px;
        }

        .agent-type-name {
            font-weight: 700;
            font-size: 18px;
            color: var(--oscuro);
            margin-bottom: 8px;
        }

        .agent-type-desc {
            font-size: 14px;
            color: var(--gris-texto);
            line-height: 1.5;
            margin-bottom: 16px;
        }

        .agent-type-features {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .agent-type-features li {
            font-size: 13px;
            color: var(--gris-texto);
            padding: 6px 0;
            display: flex;
            align-items: start;
        }

        .agent-type-features li::before {
            content: '‚úì';
            color: var(--netelip-azul);
            font-weight: 700;
            margin-right: 8px;
            font-size: 14px;
        }

        .agent-type-badge {
            display: inline-block;
            background: var(--netelip-azul);
            color: white;
            font-size: 11px;
            font-weight: 700;
            padding: 4px 10px;
            border-radius: 20px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 16px;
        }

        /* ===== FORM ELEMENTS ===== */
        .form-group {
            margin-bottom: 28px;
        }

        .form-control:focus {
            border-color: var(--netelip-azul) !important;
            box-shadow: 0 0 0 3px rgba(38, 122, 176, 0.1) !important;
            outline: none;
        }

        /* ===== TOOLTIP ===== */
        .tooltip-icon {
            margin-left: 6px;
            color: var(--netelip-azul);
            cursor: help;
            font-size: 18px;
        }

        .custom-tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip-content {
            visibility: hidden;
            width: 320px;
            background: var(--oscuro);
            color: white;
            text-align: left;
            border-radius: 8px;
            padding: 16px 18px;
            position: absolute;
            z-index: 2000;
            bottom: 140%;
            left: 50%;
            margin-left: -160px;
            opacity: 0;
            transition: all 0.3s;
            font-size: 13px;
            line-height: 1.6;
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .tooltip-content::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -8px;
            border-width: 8px;
            border-style: solid;
            border-color: var(--oscuro) transparent transparent transparent;
        }

        .custom-tooltip:hover .tooltip-content {
            visibility: visible;
            opacity: 1;
        }

        /* ===== BUTTONS ===== */
        .wizard-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 28px;
            border-top: 1px solid var(--gris-borde);
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.2s;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--netelip-azul);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            background: var(--netelip-azul-hover);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(38, 122, 176, 0.25);
        }

        .btn-secondary {
            background: white;
            color: var(--gris-texto);
            border: 1px solid var(--gris-borde);
        }

        .btn-secondary:hover:not(:disabled) {
            background: var(--gris-claro);
            color: var(--oscuro);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* ===== INFO BANNER ===== */
        .info-banner {
            background: #eff6ff;
            border: 1px solid #bfdbfe;
            border-radius: 10px;
            padding: 16px 20px;
            margin-top: 32px;
            display: flex;
            align-items: start;
            gap: 12px;
        }

        .info-banner i {
            color: var(--netelip-azul);
            font-size: 20px;
            margin-top: 2px;
        }

        .info-banner-content {
            flex: 1;
        }

        .info-banner-title {
            font-weight: 700;
            color: var(--oscuro);
            font-size: 14px;
            margin-bottom: 4px;
        }

        .info-banner-text {
            font-size: 13px;
            color: var(--gris-texto);
            line-height: 1.5;
        }

        @media (max-width: 968px) {
            .agent-types-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }
            .main-content {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <!-- SIDEBAR -->
    <div class="sidebar">
        <div class="sidebar-header">
            <a href="dashboard.html" class="back-link">
                <i class="bi bi-arrow-left"></i>
                Volver al dashboard
            </a>
            <h2 class="wizard-title">Crear agente IA</h2>
            <p class="wizard-subtitle">Sigue los 8 pasos para configurar tu agente</p>
        </div>

        <div class="steps-container">
            <div class="step-item active">
                <div class="step-number">1</div>
                <div class="step-info">
                    <span class="step-name">Informaci√≥n b√°sica</span>
                    <span class="step-desc">Nombre y sector</span>
                </div>
                <i class="bi bi-chevron-right step-icon"></i>
            </div>

            <div class="step-item disabled">
                <div class="step-number">2</div>
                <div class="step-info">
                    <span class="step-name">Configuraci√≥n LLM</span>
                    <span class="step-desc">Modelo y prompt</span>
                </div>
                <i class="bi bi-chevron-right step-icon"></i>
            </div>

            <div class="step-item disabled">
                <div class="step-number">3</div>
                <div class="step-info">
                    <span class="step-name">Selecci√≥n de voz</span>
                    <span class="step-desc">Voz y personalidad</span>
                </div>
                <i class="bi bi-chevron-right step-icon"></i>
            </div>

            <div class="step-item disabled">
                <div class="step-number">4</div>
                <div class="step-info">
                    <span class="step-name">Conversaci√≥n</span>
                    <span class="step-desc">Idioma y respuestas</span>
                </div>
                <i class="bi bi-chevron-right step-icon"></i>
            </div>

            <div class="step-item disabled">
                <div class="step-number">5</div>
                <div class="step-info">
                    <span class="step-name">Tiempos</span>
                    <span class="step-desc">Duraciones y delays</span>
                </div>
                <i class="bi bi-chevron-right step-icon"></i>
            </div>

            <div class="step-item disabled">
                <div class="step-number">6</div>
                <div class="step-info">
                    <span class="step-name">Audio y STT</span>
                    <span class="step-desc">Sonido ambiente</span>
                </div>
                <i class="bi bi-chevron-right step-icon"></i>
            </div>

            <div class="step-item disabled">
                <div class="step-number">7</div>
                <div class="step-info">
                    <span class="step-name">Herramientas</span>
                    <span class="step-desc">Integraciones</span>
                </div>
                <i class="bi bi-chevron-right step-icon"></i>
            </div>

            <div class="step-item disabled">
                <div class="step-number">8</div>
                <div class="step-info">
                    <span class="step-name">Resumen</span>
                    <span class="step-desc">Revisar y crear</span>
                </div>
                <i class="bi bi-chevron-right step-icon"></i>
            </div>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="main-content">
        <!-- TOPBAR -->
        <div class="topbar">
            <div class="progress-bar-container">
                <div class="progress-bar-fill" style="width: 12.5%;"></div>
            </div>
            <div class="progress-text">Paso 1 de 8 - Informaci√≥n b√°sica</div>
        </div>

        <!-- CONTENT -->
        <div class="content-area">
            <div class="form-card">
                <form id="wizardForm">
                    
                    <!-- SECCI√ìN: INFORMACI√ìN B√ÅSICA DEL AGENTE -->
                    <div style="margin-bottom: 48px;">
                        <h2 style="font-size: 20px; font-weight: 700; color: var(--oscuro); margin-bottom: 8px;">
                            Informaci√≥n b√°sica del agente
                        </h2>
                        <p style="font-size: 14px; color: var(--gris-texto); margin-bottom: 32px; line-height: 1.6;">
                            Empecemos con los datos fundamentales. Esta informaci√≥n personaliza todo el comportamiento de tu agente.
                        </p>

                        <!-- NOMBRE DEL AGENTE -->
                        <div class="form-group">
                            <label class="form-label" style="display: flex; align-items: center; font-weight: 600; color: var(--oscuro); margin-bottom: 8px; font-size: 14px;">
                                ¬øC√≥mo se llamar√° tu agente?
                                <span style="color: #ef4444; margin-left: 4px;">*</span>
                                <span class="custom-tooltip">
                                    <i class="bi bi-question-circle-fill tooltip-icon"></i>
                                    <span class="tooltip-content">
                                        <strong>Nombre del agente</strong><br>
                                        Este ser√° el nombre con el que tu agente se presentar√° en todas las llamadas.
                                        <br><br>
                                        <strong>Ejemplo:</strong> "Hola, soy Sofia de Netelip"
                                        <br><br>
                                        <strong>Tips:</strong><br>
                                        ‚Ä¢ Nombres cortos (2-3 s√≠labas)<br>
                                        ‚Ä¢ F√°ciles de pronunciar<br>
                                        ‚Ä¢ Evita nombres t√©cnicos
                                    </span>
                                </span>
                            </label>
                            <input type="text" 
                                   class="form-control" 
                                   id="agentName" 
                                   placeholder="Ej: Sofia, Carlos, Laura..."
                                   required
                                   style="border: 1px solid var(--gris-borde); border-radius: 8px; padding: 11px 14px; font-size: 14px; transition: all 0.2s; font-weight: 500;">
                            <div style="color: var(--gris-texto); font-size: 13px; margin-top: 6px;">
                                <i class="bi bi-lightbulb me-1"></i>
                                Este nombre aparecer√° en todas las interacciones con clientes
                            </div>
                        </div>

                        <!-- NOMBRE EMPRESA -->
                        <div class="form-group">
                            <label class="form-label" style="display: flex; align-items: center; font-weight: 600; color: var(--oscuro); margin-bottom: 8px; font-size: 14px;">
                                Nombre de tu empresa
                                <span class="custom-tooltip">
                                    <i class="bi bi-question-circle-fill tooltip-icon"></i>
                                    <span class="tooltip-content">
                                        <strong>Nombre de la empresa</strong><br>
                                        El agente usar√° este nombre para presentar tu empresa.
                                        <br><br>
                                        <strong>Ejemplo:</strong> "Hola, soy Sofia de Netelip"
                                        <br><br>
                                        Si lo dejas vac√≠o, el agente no mencionar√° el nombre de la empresa.
                                    </span>
                                </span>
                            </label>
                            <input type="text" 
                                   class="form-control" 
                                   id="companyName" 
                                   placeholder="Ej: Netelip, Mi Empresa SL..."
                                   style="border: 1px solid var(--gris-borde); border-radius: 8px; padding: 11px 14px; font-size: 14px; transition: all 0.2s; font-weight: 500;">
                            <div style="color: var(--gris-texto); font-size: 13px; margin-top: 6px;">
                                <i class="bi bi-building me-1"></i>
                                Se usar√° en las presentaciones (opcional)
                            </div>
                        </div>
                    </div>

                    <!-- SEPARADOR -->
                    <div style="border-top: 2px solid var(--gris-borde); margin: 48px 0; padding-top: 40px;">
                        <h2 style="font-size: 20px; font-weight: 700; color: var(--oscuro); margin-bottom: 8px;">
                            ¬øQu√© tipo de agente necesitas?
                        </h2>
                        <p style="font-size: 14px; color: var(--gris-texto); margin-bottom: 32px; line-height: 1.6;">
                            Selecciona el tipo de agente seg√∫n la funci√≥n principal que necesites. Cada uno tiene capacidades optimizadas para su prop√≥sito.
                        </p>
                    </div>

                    <div class="agent-types-grid">
                        <!-- TRANSFERENCIA -->
                        <div class="agent-type-card" onclick="selectAgentType(this, 'transferencia')">
                            <div class="agent-type-icon">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M3 5C3 3.89543 3.89543 3 5 3H8.27924C8.70967 3 9.09181 3.27543 9.22792 3.68377L10.7257 8.17721C10.8831 8.64932 10.6694 9.16531 10.2243 9.38787L7.96701 10.5165C9.06925 12.9612 11.0388 14.9308 13.4835 16.033L14.6121 13.7757C14.8347 13.3306 15.3507 13.1169 15.8228 13.2743L20.3162 14.7721C20.7246 14.9082 21 15.2903 21 15.7208V19C21 20.1046 20.1046 21 19 21H18C9.71573 21 3 14.2843 3 6V5Z" stroke="#267ab0" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M14 3L16 5L14 7" stroke="#267ab0" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M20 3L18 5L20 7" stroke="#267ab0" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                            <div class="agent-type-name">Transferencia de llamadas</div>
                            <div class="agent-type-desc">
                                Deriva llamadas inteligentemente a personas o departamentos espec√≠ficos seg√∫n el contexto de la conversaci√≥n.
                            </div>
                            <ul class="agent-type-features">
                                <li>Transferencia caliente (con contexto)</li>
                                <li>Transferencia fr√≠a (directa)</li>
                                <li>Routing por horarios y disponibilidad</li>
                                <li>M√∫ltiples destinos configurables</li>
                            </ul>
                            <span class="agent-type-badge">Distribuci√≥n inteligente</span>
                        </div>

                        <!-- AGENDAMIENTO -->
                        <div class="agent-type-card" onclick="selectAgentType(this, 'agendamiento')">
                            <div class="agent-type-icon">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="3" y="6" width="18" height="15" rx="2" stroke="#267ab0" stroke-width="1.5"/>
                                    <path d="M3 10H21" stroke="#267ab0" stroke-width="1.5"/>
                                    <path d="M7 3V6M17 3V6" stroke="#267ab0" stroke-width="1.5" stroke-linecap="round"/>
                                    <circle cx="9" cy="14" r="1" fill="#267ab0"/>
                                    <circle cx="15" cy="14" r="1" fill="#267ab0"/>
                                    <circle cx="12" cy="17" r="1" fill="#267ab0"/>
                                </svg>
                            </div>
                            <div class="agent-type-name">Agendamiento de citas</div>
                            <div class="agent-type-desc">
                                Gestiona autom√°ticamente la reserva de citas verificando disponibilidad en tiempo real con Cal.com.
                            </div>
                            <ul class="agent-type-features">
                                <li>Integraci√≥n directa con Cal.com</li>
                                <li>Verificaci√≥n de disponibilidad real</li>
                                <li>Confirmaciones autom√°ticas</li>
                                <li>Recordatorios de citas</li>
                            </ul>
                            <span class="agent-type-badge">Cal.com integrado</span>
                        </div>

                        <!-- CUALIFICACI√ìN + ATENCI√ìN -->
                        <div class="agent-type-card" onclick="selectAgentType(this, 'cualificacion')">
                            <div class="agent-type-icon">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 13.5997 2.37562 15.1116 3.04346 16.4525C3.22094 16.8088 3.28001 17.2161 3.17712 17.6006L2.58151 19.8267C2.32295 20.793 3.20701 21.677 4.17335 21.4185L6.39939 20.8229C6.78393 20.72 7.19121 20.7791 7.54753 20.9565C8.88837 21.6244 10.4003 22 12 22Z" stroke="#267ab0" stroke-width="1.5"/>
                                    <path d="M12 11V12M12 15H12.01" stroke="#267ab0" stroke-width="2" stroke-linecap="round"/>
                                    <circle cx="12" cy="8" r="1.5" fill="#267ab0"/>
                                </svg>
                            </div>
                            <div class="agent-type-name">Cualificaci√≥n y atenci√≥n</div>
                            <div class="agent-type-desc">
                                Cualifica leads con preguntas estrat√©gicas y proporciona atenci√≥n al cliente completa para consultas generales.
                            </div>
                            <ul class="agent-type-features">
                                <li>Cualificaci√≥n de leads inteligente</li>
                                <li>Scoring autom√°tico de prospectos</li>
                                <li>Resoluci√≥n de consultas frecuentes</li>
                                <li>Escalado selectivo a humanos</li>
                            </ul>
                            <span class="agent-type-badge">Dual: Ventas + Soporte</span>
                        </div>
                    </div>

                    <!-- INFO BANNER -->
                    <div class="info-banner">
                        <i class="bi bi-lightbulb-fill"></i>
                        <div class="info-banner-content">
                            <div class="info-banner-title">¬øNo est√°s seguro cu√°l elegir?</div>
                            <div class="info-banner-text">
                                <strong>Transferencia:</strong> Si tu prioridad es distribuir llamadas entre tu equipo.<br>
                                <strong>Agendamiento:</strong> Si necesitas automatizar reservas de consultas, visitas o reuniones.<br>
                                <strong>Cualificaci√≥n:</strong> Si buscas filtrar leads y dar soporte a clientes.
                            </div>
                        </div>
                    </div>

                    <input type="hidden" id="selectedAgentType" required>

                    <!-- BOTONES -->
                    <div class="wizard-actions">
                        <a href="dashboard.html" class="btn btn-secondary">
                            <i class="bi bi-arrow-left"></i>
                            Cancelar
                        </a>
                        <button type="button" class="btn btn-primary" onclick="nextStep()" disabled id="btnNext">
                            Siguiente
                            <i class="bi bi-arrow-right"></i>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Inicializar o recuperar configuraci√≥n del agente
        let agentConfig = JSON.parse(sessionStorage.getItem('agentConfig')) || {
            agent_type: '',
            agent_name: '',
            company_name: '',
            niche: '',
            voice_id: '',
            llm_config: {},
            integrations: {},
            advanced_config: {}
        };

        function selectAgentType(element, type) {
            // Remover selecci√≥n previa
            document.querySelectorAll('.agent-type-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Seleccionar nueva opci√≥n
            element.classList.add('selected');
            agentConfig.agent_type = type;
            document.getElementById('selectedAgentType').value = type;
            
            // Guardar en sessionStorage
            sessionStorage.setItem('agentConfig', JSON.stringify(agentConfig));
            
            // Validar si se puede habilitar el bot√≥n siguiente
            validateForm();
            
            console.log('‚úÖ Tipo de agente seleccionado:', type);
        }

        function validateForm() {
            const agentType = document.getElementById('selectedAgentType').value;
            const agentName = document.getElementById('agentName').value.trim();
            
            // Habilitar bot√≥n solo si hay tipo de agente Y nombre de agente
            if (agentType && agentName) {
                document.getElementById('btnNext').disabled = false;
            } else {
                document.getElementById('btnNext').disabled = true;
            }
        }

        // Validar en tiempo real
        document.getElementById('agentName')?.addEventListener('input', validateForm);

        function nextStep() {
            const agentType = document.getElementById('selectedAgentType').value;
            const agentName = document.getElementById('agentName').value.trim();

            if (!agentName) {
                alert('‚ö†Ô∏è Por favor, introduce el nombre del agente');
                document.getElementById('agentName').focus();
                return;
            }

            if (!agentType) {
                alert('‚ö†Ô∏è Por favor, selecciona un tipo de agente');
                return;
            }

            // Guardar datos
            agentConfig.agent_name = agentName;
            agentConfig.company_name = document.getElementById('companyName').value.trim();
            
            sessionStorage.setItem('agentConfig', JSON.stringify(agentConfig));

            console.log('‚úÖ Configuraci√≥n guardada:', agentConfig);
            
            // Redirigir al paso 2
            window.location.href = 'wizard-paso2-netelip.html';
        }

        // Restaurar selecci√≥n si existe
        window.addEventListener('DOMContentLoaded', () => {
            if (agentConfig.agent_type) {
                const cards = document.querySelectorAll('.agent-type-card');
                cards.forEach(card => {
                    if (card.getAttribute('onclick').includes(agentConfig.agent_type)) {
                        card.classList.add('selected');
                    }
                });
            }
            
            if (agentConfig.agent_name) {
                document.getElementById('agentName').value = agentConfig.agent_name;
            }
            
            if (agentConfig.company_name) {
                document.getElementById('companyName').value = agentConfig.company_name;
            }
            
            validateForm();
        });

        console.log('üöÄ Wizard Paso 1 (Informaci√≥n b√°sica) - Cargado correctamente');
    </script>
</body>
</html>

